<!DOCTYPE html>
<!-- Commenting out until integration is needed.
{% if alert_message != '' %}
    <script>alert("{{ alert_message }}")</script>
{% endif %}
-->
<html>
<link rel="manifest" href="../manifest.json">
<link rel="apple-touch-icon" href="https://ema-planner.herokuapp.com/views/ema.png">
<link rel="icon" type="image/png" href="https://ema-planner.herokuapp.com/views/ema.png">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">
<title>Home &mdash; Exclusive Martial Arts</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
        }
        html {
            min-height: 100%;
            background-image: linear-gradient(#0095ff, #9ed7ff);
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        .column {
            float: left;
            width: calc(100% / 3);
            height: 100%;
            padding: 10px;
        }
        .column1 {
            float: left;
            width: calc(80% / 2);
            height: 100%;
            padding: 5px;
            text-align: center;
        }
        .column2 {
            float: right;
            width: calc(80% / 2);
            height: 100%;
            padding: 5px;
            text-align: center;
        }
        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }
        #page-container {
            position: relative;
            min-height: 90vh;
        }
        #content-wrap {
            
        }
        .material-icons-outlined {
            font-size: 160px;
            position: relative; /* this line and the next "do the thing" */
            top:3px;
            justify-content: center;
        }
        h1 {
            text-align: center;
            font-size: 40px;
        }
        button {
            /*background-color: #5ed1ff;*/
            background-color: transparent;
            border: none;
            color: white;
            padding: 16px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 24px;
            margin: 4px 2px;
            transition-duration: 0.4s;
            cursor: pointer;
            width: 100%;
        }
        button {
            color: black;
            border: 4px solid black;
        }

        button:hover {
            background-color: #555555;
            color: white;
        }
        h2, h5{
            text-align: center;
        }
        label{
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
<head>
</head>
<body>
    <div id="page-container">
        <div id="content-wrap">
            <div class="row">
                <div class="column">
                    <i class="material-icons-outlined">account_balance_wallet</i><br>
                    <h1>Accounts</h1>
                </div>
                <div class="column">
                    <i class="material-icons-outlined">account_box</i><br>
                    <h1>Students and Classes</h1>
                </div>
                <div class="column">
                    <i class="material-icons-outlined">assignment</i><br>
                    <h1>Belt Testing</h1>
                </div>
            </div>
            <div class="row">
                <div class="column">
                    <h2>Available balance: {{ balance_available }}</h2>
                    <h2>Pending balance: {{ balance_pending }}</h2>
                </div>
                <div class="column">
                    <h2>Students checked-in today: {{ checked_today[0].day_count }}</h2>
                    <h2>Students checked-in in the last 7 days: {{ checked_week[0].week_count }}</h2>
                </div>
                <div class="column">
                    <h2>Students by belt group</h2>
                    <div class="column1">
                        <label>{{ student_data[0].level_name }}: </label>{{ student_data[0].count }}<br>
                        <label>{{ student_data[1].level_name }}: </label>{{ student_data[1].count }}<br>
                        <label>{{ student_data[2].level_name }}: </label>{{ student_data[2].count }}
                    </div>
                    <div class="column2">
                        <label>{{ student_data[3].level_name }}: </label>{{ student_data[3].count }}<br>
                        <label>{{ student_data[4].level_name }}: </label>{{ student_data[4].count }}<br>
                        <label>{{ student_data[5].level_name }}: </label>{{ student_data[5].count }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="column">
                    <a href="/add_student"><button disabled>Enroll a Student</button></a><br>
                    <button disabled>Add a Prospect</button><br>
                    <a href="https://dashboard.stripe.com/test/customers" target="_blank"><button disabled>Modify Billing Subscription</button></a><br>
                    <a href="/failed_charges"><button>Failed charges &mdash; {{ failure_num.failed_num }}</button></a>
                </div>
                <div class="column">
                    <a href="/class_selector"><button>Class Check-In</button></a><br>
                    <a href="/class_lookup"><button>View a Class</button></a><br>
                    <a href="/student_lookup"><button>View/Edit a Student</button></a><br>
                    <a href="/student_portal_login"><button>Student Portal</button></a>
                </div>
                <div class="column">
                    <a href="/create_test"><button>Create a Test</button></a><br>
                    <a href="/test_lookup"><button>View a Test</button></a><br>
                    <a href="/belt_inventory"><button>Belt Inventory</button></a>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    if (!navigator.serviceWorker.controller) {
        navigator.serviceWorker.register("/sw.js").then(function(reg) {
            console.log("Service worker has been registered for scope: " + reg.scope);
        });
    }
   </script>
</html>

