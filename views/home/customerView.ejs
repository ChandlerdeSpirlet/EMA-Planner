<!DOCTYPE html>
<html>
    <style>
        .customer-view h2 {
            margin-left: 12px;
        }

        .customer-view-plans {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }

        .customer-view-plan {
            background-color: #eee;
            padding: 24px;
            border-radius: 4px;
            flex: 1;
            margin: 0 12px 24px;
            min-width: 280px;
        }

        .customer-view-plan h3 {
            margin-top: 0px;
        }

        /* Sign Up Page */
        .sign-up {
            width: 50%;
            margin: 0 auto;
            min-width: 280px;
        }

        .sign-up h2 {
            margin-top: 6px;
        }

        .sign-up-product {
            margin-top: 24px;
        }

        .sign-up-container {
            padding: 24px;
            background-color: #eee;
            border-radius: 3px;
        }

        .sign-up .btn {
            margin-top: 16px;
        }

        #card-errors {
            margin-top: 6px;
            font-size: 14px;
        }
        .customer-view h2 {
            margin-left: 12px;
        }

        .customer-view-plans {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }

        .customer-view-plan {
            background-color: #eee;
            padding: 24px;
            border-radius: 4px;
            flex: 1;
            margin: 0 12px 24px;
            min-width: 280px;
        }

        .customer-view-plan h3 {
            margin-top: 0px;
        }

        /* Sign Up Page */
        .sign-up {
            width: 50%;
            margin: 0 auto;
            min-width: 280px;
        }

        .sign-up h2 {
            margin-top: 6px;
        }

        .sign-up-product {
            margin-top: 24px;
        }

        .sign-up-container {
            padding: 24px;
            background-color: #eee;
            border-radius: 3px;
        }

        .sign-up .btn {
            margin-top: 16px;
        }

        #card-errors {
            margin-top: 6px;
            font-size: 14px;
        }
    </style>
    <head>
        <title>
            Enroll Student Billing
        </title>
        <script src="https://js.stripe.com/v3/"></script>
    </head>
    <body>
        <div class="app-container">
            <div class="app-header">
                <a href="/home/customerView"><p class="active">Customer View</p></a>
            </div>
        </div>
        <div class="customer-view">
            <% products.forEach(function(product){ %>
                <div class="customer-view-products">
                    <h2><% product.name %> </h2>
                    <div class="customer-view-plans">
                        <% product.plans.forEach(function(plan){ %>
                            <div class="customer-view-plan">
                                <form action="/home/signUp" method="POST">
                                    <input hidden value="<% product.name %>" name="productName"/>
                                    <input hidden value="<% plan.id %>" name="planId"/>
                                    <input hidden value="<% plan.nickname %>" name="planName"/>
                                    <input hidden value="<% plan.amount %>" name="planAmount"/>
                                    <input hidden value="<% plan.interval %>" name="planInterval"/>
                                    <input hidden value="<% plan.interval_count %>" name="planIntervalCount"/>
                                    <h3><% plan.nickname %> &mdash; <%plan.amount %> / 
                                        <% if(plan.interval_count > 1) {%>
                                            <% plan.interval_count %> <% plan.interval %>
                                        <% } else {%>
                                            <% plan.interval %>
                                        <% } %>
                                    </h3>
                                    <input class="btn" type="submit" value="Sign Up"/>
                                </form>
                            </div>
                        <% }) %>
                    </div>
                </div>
            <% }) %>
        </div>
    </body>
</html>